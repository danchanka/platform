(window.webpackJsonp=window.webpackJsonp||[]).push([[250,440],{324:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return c})),r.d(t,"toc",(function(){return i})),r.d(t,"default",(function(){return u}));var n=r(3),o=r(7),a=(r(0),r(747)),s=r(57),l={title:"FORMULA operator"},c={unversionedId:"FORMULA_operator",id:"version-v4/FORMULA_operator",isDocsHomePage:!1,title:"FORMULA operator",description:"The FORMULA operator creates a property that implements a custom formula.",source:"@site/versioned_docs/version-v4/FORMULA_operator.md",slug:"/FORMULA_operator",permalink:"/platform/FORMULA_operator",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/FORMULA_operator.md",version:"v4",sidebar:"version-v4/learn",previous:{title:"EXCLUSIVE operator",permalink:"/platform/EXCLUSIVE_operator"},next:{title:"GROUP operator",permalink:"/platform/GROUP_operator"}},i=[{value:"Syntax",id:"syntax",children:[]},{value:"Description",id:"description",children:[]},{value:"Parameters",id:"parameters",children:[]},{value:"Examples",id:"examples",children:[]}],p={toc:i};function u(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"The ",Object(a.b)("strong",{parentName:"p"},"FORMULA")," operator creates a ",Object(a.b)("a",{parentName:"p",href:"/platform/Properties"},"property")," that implements a ",Object(a.b)("a",{parentName:"p",href:"/platform/Custom_formula_FORMULA_"},"custom formula"),"."),Object(a.b)("h3",{id:"syntax"},"Syntax"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"FORMULA [NULL] [className] [syntaxType1] text1, ..., [syntaxTypeN] textN\n")),Object(a.b)("h3",{id:"description"},"Description"),Object(a.b)("p",null,"The ",Object(a.b)("strong",{parentName:"p"},"FORMULA")," operator creates a property that executes an arbitrary formula in SQL. It is possible to specify different formulas for different SQL dialects so that these properties are portable between different DBMSs.\xa0"),Object(a.b)("p",null,"This property operator cannot be used inside ",Object(a.b)("a",{parentName:"p",href:"/platform/Expression"},"expressions"),"."),Object(a.b)("h3",{id:"parameters"},"Parameters"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"NULL")),Object(a.b)("p",null,"Keyword specifying that the property being created may return ",Object(a.b)("strong",{parentName:"p"},"NULL")," if all parameter values are non-",Object(a.b)("strong",{parentName:"p"},"NULL"),". If not specified, then the property must be defined so that for non-",Object(a.b)("strong",{parentName:"p"},"NULL")," parameters it will always return a non-",Object(a.b)("strong",{parentName:"p"},"NULL")," value (failure to fulfill this condition may lead to unpredictable results)"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"className")),Object(a.b)("p",null,"The name of the ",Object(a.b)("a",{parentName:"p",href:"/platform/Built-in_classes"},"builtin class"),"\xa0of the value returned by the property. If not specified, the resulting class is considered to be the ",Object(a.b)("a",{parentName:"p",href:"/platform/Built-in_classes#commonparentclass"},"common ancestor"),"\xa0of all property operands."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"syntaxType1, ..., syntaxTypeN")),Object(a.b)("p",null,"Keywords defining SQL dialect types. The following types are currently supported:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"PG")," - PostgreSQL syntax"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"MS")," - MS SQL Server syntax")),Object(a.b)("p",null,"If the dialect type is not specified explicitly, then the corresponding formula text is set as the default text. Each of the types (or the lack of a type) must appear in the operator no more than once."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"text1, ..., textN")),Object(a.b)("p",null,Object(a.b)("a",{parentName:"p",href:"/platform/IDs#strliteral-broken"},"String literals"),", each of which contains a formula in SQL syntax. The notation ",Object(a.b)("strong",{parentName:"p"},"$1"),", ",Object(a.b)("strong",{parentName:"p"},"$2")," etc. is used to pass property parameters to the formula, where the number denotes the property parameter number. Parameter numbers start from 1. The number of parameters in the created property will be equal to the maximum parameter number specified in the description of the formula."),Object(a.b)("h3",{id:"examples"},"Examples"),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=OperatorPropertySample&block=formula",mdxType:"CodeSample"}),Object(a.b)("p",null,"**",Object(a.b)("br",{parentName:"p"}),"\n","**"))}u.isMDXComponent=!0},57:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return p})),r.d(t,"toc",(function(){return u})),r.d(t,"CodeSample",(function(){return m})),r.d(t,"default",(function(){return b}));var n=r(3),o=r(7),a=r(0),s=r.n(a),l=r(747),c=r(750),i={},p={unversionedId:"CodeSample",id:"version-v4/CodeSample",isDocsHomePage:!1,title:"CodeSample",description:"const [content, setContent] = useState('')",source:"@site/versioned_docs/version-v4/CodeSample.mdx",slug:"/CodeSample",permalink:"/platform/CodeSample",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/CodeSample.mdx",version:"v4"},u=[],m=function(e){var t=e.url,r=e.lines,n=Object(a.useState)(""),o=n[0],i=n[1];return Object(a.useEffect)((function(){fetch(t).then((function(e){return e.text()})).then((function(e){return i(e)}))}),[t,i]),o?r?Object(l.b)(s.a.Fragment,null,Object(l.b)(c.a,{className:"lsf",metastring:r,mdxType:"CodeBlock"},o),Object(l.b)("br",null)):Object(l.b)(s.a.Fragment,null,Object(l.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},o),Object(l.b)("br",null)):Object(l.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},"loading...")},d={toc:u,CodeSample:m};function b(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},d,r,{components:t,mdxType:"MDXLayout"}))}b.isMDXComponent=!0},747:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return b}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=o.a.createContext({}),p=function(e){var t=o.a.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=p(e.components);return o.a.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),u=p(r),d=n,b=u["".concat(s,".").concat(d)]||u[d]||m[d]||a;return r?o.a.createElement(b,l(l({ref:t},i),{},{components:r})):o.a.createElement(b,l({ref:t},i))}));function b(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,s[1]=l;for(var i=2;i<a;i++)s[i]=r[i];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},749:function(e,t){function r(e){let t,r=[];for(let n of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(n))r.push(parseInt(n,10));else if(t=n.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,n,o,a]=t;if(n&&a){n=parseInt(n),a=parseInt(a);const e=n<a?1:-1;"-"!==o&&".."!==o&&"\u2025"!==o||(a+=e);for(let t=n;t!==a;t+=e)r.push(t)}}return r}t.default=r,e.exports=r},750:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(3),o=r(0),a=r.n(o),s=r(751),l={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},c={Prism:r(23).a,theme:l};function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=/\r\n|\r|\n/,m=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},d=function(e,t){var r=e.length;return r>0&&e[r-1]===t?e:e.concat(t)},b=function(e,t){var r=e.plain,n=Object.create(null),o=e.styles.reduce((function(e,r){var n=r.languages,o=r.style;return n&&!n.includes(t)||r.types.forEach((function(t){var r=p({},e[t],o);e[t]=r})),e}),n);return o.root=r,o.plain=p({},r,{backgroundColor:null}),o};function y(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var f=function(e){function t(){for(var t=this,r=[],n=arguments.length;n--;)r[n]=arguments[n];e.apply(this,r),i(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var r=e.theme?b(e.theme,e.language):void 0;return t.themeDict=r})),i(this,"getLineProps",(function(e){var r=e.key,n=e.className,o=e.style,a=p({},y(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),s=t.getThemeDict(t.props);return void 0!==s&&(a.style=s.plain),void 0!==o&&(a.style=void 0!==a.style?p({},a.style,o):o),void 0!==r&&(a.key=r),n&&(a.className+=" "+n),a})),i(this,"getStyleForToken",(function(e){var r=e.types,n=e.empty,o=r.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===o&&"plain"===r[0])return n?{display:"inline-block"}:void 0;if(1===o&&!n)return a[r[0]];var s=n?{display:"inline-block"}:{},l=r.map((function(e){return a[e]}));return Object.assign.apply(Object,[s].concat(l))}})),i(this,"getTokenProps",(function(e){var r=e.key,n=e.className,o=e.style,a=e.token,s=p({},y(e,["key","className","style","token"]),{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==o&&(s.style=void 0!==s.style?p({},s.style,o):o),void 0!==r&&(s.key=r),n&&(s.className+=" "+n),s})),i(this,"tokenize",(function(e,t,r,n){var o={code:t,grammar:r,language:n,tokens:[]};e.hooks.run("before-tokenize",o);var a=o.tokens=e.tokenize(o.code,o.grammar,o.language);return e.hooks.run("after-tokenize",o),a}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,r=e.language,n=e.code,o=e.children,a=this.getThemeDict(this.props),s=t.languages[r];return o({tokens:function(e){for(var t=[[]],r=[e],n=[0],o=[e.length],a=0,s=0,l=[],c=[l];s>-1;){for(;(a=n[s]++)<o[s];){var i=void 0,p=t[s],b=r[s][a];if("string"==typeof b?(p=s>0?p:["plain"],i=b):(p=d(p,b.type),b.alias&&(p=d(p,b.alias)),i=b.content),"string"==typeof i){var y=i.split(u),f=y.length;l.push({types:p,content:y[0]});for(var h=1;h<f;h++)m(l),c.push(l=[]),l.push({types:p,content:y[h]})}else s++,t.push(p),r.push(i),n.push(0),o.push(i.length)}s--,t.pop(),r.pop(),n.pop(),o.pop()}return m(l),c}(void 0!==s?this.tokenize(t,n,s,r):[n]),className:"prism-code language-"+r,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(o.Component);var h=r(749),g=r.n(h),O={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},v=r(753),j=r(748);var k=()=>{const{prism:e}=Object(j.useThemeConfig)(),{isDarkTheme:t}=Object(v.a)(),r=e.theme||O,n=e.darkTheme||r;return t?n:r},x=r(752),N=r(58),L=r.n(N);const T=/{([\d,-]+)}/,S=(e=["js","jsBlock","jsx","python","html"])=>{const t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},r=["highlight-next-line","highlight-start","highlight-end"].join("|"),n=e.map((e=>`(?:${t[e].start}\\s*(${r})\\s*${t[e].end})`)).join("|");return new RegExp(`^\\s*(?:${n})\\s*$`)},C=/(?:title=")(.*)(?:")/;function w({children:e,className:t,metastring:r}){const{prism:l}=Object(j.useThemeConfig)(),[i,p]=Object(o.useState)(!1),[u,m]=Object(o.useState)(!1);Object(o.useEffect)((()=>{m(!0)}),[]);const d=Object(o.useRef)(null);let b=[],y="";const h=k(),O=Array.isArray(e)?e.join(""):e;if(r&&T.test(r)){const e=r.match(T)[1];b=g()(e).filter((e=>e>0))}r&&C.test(r)&&(y=r.match(C)[1]);let v=t&&t.replace(/language-/,"");!v&&l.defaultLanguage&&(v=l.defaultLanguage);let N=O.replace(/\n$/,"");if(0===b.length&&void 0!==v){let e="";const t=(e=>{switch(e){case"js":case"javascript":case"ts":case"typescript":return S(["js","jsBlock"]);case"jsx":case"tsx":return S(["js","jsBlock","jsx"]);case"html":return S(["js","jsBlock","html"]);case"python":case"py":return S(["python"]);default:return S()}})(v),r=O.replace(/\n$/,"").split("\n");let n;for(let o=0;o<r.length;){const a=o+1,s=r[o].match(t);if(null!==s){switch(s.slice(1).reduce(((e,t)=>e||t),void 0)){case"highlight-next-line":e+=`${a},`;break;case"highlight-start":n=a;break;case"highlight-end":e+=`${n}-${a-1},`}r.splice(o,1)}else o+=1}b=g()(e),N=r.join("\n")}const w=()=>{!function(e,{target:t=document.body}={}){const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const o=document.getSelection();let a=!1;o.rangeCount>0&&(a=o.getRangeAt(0)),t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch{}r.remove(),a&&(o.removeAllRanges(),o.addRange(a)),n&&n.focus()}(N),p(!0),setTimeout((()=>p(!1)),2e3)};return a.a.createElement(f,Object(n.a)({},c,{key:String(u),theme:h,code:N,language:v}),(({className:e,style:t,tokens:r,getLineProps:o,getTokenProps:l})=>a.a.createElement("div",{className:L.a.codeBlockContainer},y&&a.a.createElement("div",{style:t,className:L.a.codeBlockTitle},y),a.a.createElement("div",{className:Object(s.a)(L.a.codeBlockContent,v)},a.a.createElement("div",{tabIndex:0,className:Object(s.a)(e,L.a.codeBlock,"thin-scrollbar",{[L.a.codeBlockWithTitle]:y})},a.a.createElement("div",{className:L.a.codeBlockLines,style:t},r.map(((e,t)=>{1===e.length&&""===e[0].content&&(e[0].content="\n");const r=o({line:e,key:t});return b.includes(t+1)&&(r.className=`${r.className} docusaurus-highlight-code-line`),a.a.createElement("div",Object(n.a)({key:t},r),e.map(((e,t)=>a.a.createElement("span",Object(n.a)({key:t},l({token:e,key:t}))))))})))),a.a.createElement("button",{ref:d,type:"button","aria-label":Object(x.b)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:Object(s.a)(L.a.copyButton),onClick:w},i?a.a.createElement(x.a,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.a.createElement(x.a,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))))}}}]);