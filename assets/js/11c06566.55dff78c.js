(window.webpackJsonp=window.webpackJsonp||[]).push([[46,440],{115:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return c})),r.d(t,"toc",(function(){return l})),r.d(t,"default",(function(){return u}));var n=r(3),o=r(7),a=(r(0),r(747)),s=r(57),i={title:"In a structured view (EXPORT, IMPORT)"},c={unversionedId:"In_a_structured_view_EXPORT_IMPORT_",id:"version-v4/In_a_structured_view_EXPORT_IMPORT_",isDocsHomePage:!1,title:"In a structured view (EXPORT, IMPORT)",description:"This operator creates an action that\xa0opens a form\xa0in the\xa0structured\xa0view.",source:"@site/versioned_docs/version-v4/In_a_structured_view_EXPORT_IMPORT_.md",slug:"/In_a_structured_view_EXPORT_IMPORT_",permalink:"/platform/In_a_structured_view_EXPORT_IMPORT_",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/In_a_structured_view_EXPORT_IMPORT_.md",version:"v4",sidebar:"version-v4/learn",previous:{title:"In a print view (PRINT)",permalink:"/platform/In_a_print_view_PRINT_"},next:{title:"Navigator: Overview",permalink:"/platform/Navigator"}},l=[{value:"Format",id:"format",children:[]},{value:"Form import",id:"importForm",children:[]},{value:"Language",id:"language",children:[]},{value:"Examples",id:"examples",children:[]}],p={toc:l};function u(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"This operator creates an action that\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Open_form"},"opens a form"),"\xa0in the\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Structured_view"},"structured"),"\xa0view."),Object(a.b)("h3",{id:"format"},"Format"),Object(a.b)("p",null,"In this operator, you can define the format that all form data will be converted to:\xa0\xa0",Object(a.b)("strong",{parentName:"p"},"XML"),",\xa0",Object(a.b)("strong",{parentName:"p"},"JSON"),",\xa0",Object(a.b)("strong",{parentName:"p"},"DBF, CSV, XLS"),". The generated file(s) in this format is then written to the specified property."),Object(a.b)("p",null,"Form export is a general case of the \xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Data_export_EXPORT_"},"data export operator"),"."),Object(a.b)("h3",{id:"importForm"},"Form import"),Object(a.b)("p",null,"Form import is an operation that is opposite to opening the form in a structured view. The import operator accepts files in a structured format, then parses them and saves the data to the properties of the set form in such a way that when this form is exported back into the imported format, it would recreate the original file."),Object(a.b)("p",null,'Since the import operator is essentially an "input operator", the following constraints apply to the form being imported:'),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"All form objects must belong to \xa0numeric\xa0or",Object(a.b)("a",{parentName:"p",href:"/platform/User_classes#abstract"},"concrete"),"\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/User_classes"},"user"),"\xa0classes. Object groups must consist of exactly one object (this constraint is caused by the fact that all the used formats are essentially\xa0lists \u2014 that is, mappings of numbers to values).")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},"Properties and\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Form_structure#filters"},"filters"),"\xa0on the form should be \xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Property_change_CHANGE_"},"changeable"),"\xa0by a given value (that is, as a rule, be\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Data_properties_DATA_"},"primary"),"). Before importing, any existing changes to the imported properties in the current session are canceled."))),Object(a.b)("p",null,"During import, filters change to the default values of value classes of these filters."),Object(a.b)("p",null,"When importing data into objects of numeric classes, 0-based numbering is used. In case of ",Object(a.b)("a",{parentName:"p",href:"/platform/Structured_view#hierarchy"},"hierarchical"),' formats, numbering is "end-to-end" (that is, when the object group being imported is encountered for the second and subsequent times, object numbering in it starts from the position that the previous one stopped at).'),Object(a.b)("p",null,"When importing from XLS and CSV without headers (with the ",Object(a.b)("strong",{parentName:"p"},"NOHEADER")," option), the platform automatically attempts to convert data to the necessary type. If it fails, a ",Object(a.b)("strong",{parentName:"p"},"NULL")," value is written to the property. Importing from other formats requires correct types. For example, if a string is required during data import from JSON, and the JSON file contains a number (without quotes), the platform will generate an error."),Object(a.b)("p",null,"If a property (object group) is not found during import, it is ignored (that is, its value remains equal to ",Object(a.b)("strong",{parentName:"p"},"NULL"),")."),Object(a.b)("p",null,"Form import is a general case of the\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/Data_import_IMPORT_"},"data import")," operator."),Object(a.b)("h3",{id:"language"},"Language"),Object(a.b)("p",null,"To open the form in the structured\xa0view, use the ",Object(a.b)("a",{parentName:"p",href:"/platform/EXPORT_operator"},Object(a.b)("strong",{parentName:"a"},"EXPORT"),"\xa0operator"),". To import a form, use the\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/IMPORT_operator"},Object(a.b)("strong",{parentName:"a"},"IMPORT"),"\xa0operator"),"."),Object(a.b)("h3",{id:"examples"},"Examples"),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=ActionSample&block=export",mdxType:"CodeSample"}),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=ActionSample&block=importForm",mdxType:"CodeSample"}))}u.isMDXComponent=!0},57:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return p})),r.d(t,"toc",(function(){return u})),r.d(t,"CodeSample",(function(){return m})),r.d(t,"default",(function(){return b}));var n=r(3),o=r(7),a=r(0),s=r.n(a),i=r(747),c=r(750),l={},p={unversionedId:"CodeSample",id:"version-v4/CodeSample",isDocsHomePage:!1,title:"CodeSample",description:"const [content, setContent] = useState('')",source:"@site/versioned_docs/version-v4/CodeSample.mdx",slug:"/CodeSample",permalink:"/platform/CodeSample",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/CodeSample.mdx",version:"v4"},u=[],m=function(e){var t=e.url,r=e.lines,n=Object(a.useState)(""),o=n[0],l=n[1];return Object(a.useEffect)((function(){fetch(t).then((function(e){return e.text()})).then((function(e){return l(e)}))}),[t,l]),o?r?Object(i.b)(s.a.Fragment,null,Object(i.b)(c.a,{className:"lsf",metastring:r,mdxType:"CodeBlock"},o),Object(i.b)("br",null)):Object(i.b)(s.a.Fragment,null,Object(i.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},o),Object(i.b)("br",null)):Object(i.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},"loading...")},d={toc:u,CodeSample:m};function b(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},d,r,{components:t,mdxType:"MDXLayout"}))}b.isMDXComponent=!0},747:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return b}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(r),d=n,b=u["".concat(s,".").concat(d)]||u[d]||m[d]||a;return r?o.a.createElement(b,i(i({ref:t},l),{},{components:r})):o.a.createElement(b,i({ref:t},l))}));function b(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var l=2;l<a;l++)s[l]=r[l];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},749:function(e,t){function r(e){let t,r=[];for(let n of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(n))r.push(parseInt(n,10));else if(t=n.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,n,o,a]=t;if(n&&a){n=parseInt(n),a=parseInt(a);const e=n<a?1:-1;"-"!==o&&".."!==o&&"\u2025"!==o||(a+=e);for(let t=n;t!==a;t+=e)r.push(t)}}return r}t.default=r,e.exports=r},750:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(3),o=r(0),a=r.n(o),s=r(751),i={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},c={Prism:r(23).a,theme:i};function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=/\r\n|\r|\n/,m=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},d=function(e,t){var r=e.length;return r>0&&e[r-1]===t?e:e.concat(t)},b=function(e,t){var r=e.plain,n=Object.create(null),o=e.styles.reduce((function(e,r){var n=r.languages,o=r.style;return n&&!n.includes(t)||r.types.forEach((function(t){var r=p({},e[t],o);e[t]=r})),e}),n);return o.root=r,o.plain=p({},r,{backgroundColor:null}),o};function f(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var h=function(e){function t(){for(var t=this,r=[],n=arguments.length;n--;)r[n]=arguments[n];e.apply(this,r),l(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var r=e.theme?b(e.theme,e.language):void 0;return t.themeDict=r})),l(this,"getLineProps",(function(e){var r=e.key,n=e.className,o=e.style,a=p({},f(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),s=t.getThemeDict(t.props);return void 0!==s&&(a.style=s.plain),void 0!==o&&(a.style=void 0!==a.style?p({},a.style,o):o),void 0!==r&&(a.key=r),n&&(a.className+=" "+n),a})),l(this,"getStyleForToken",(function(e){var r=e.types,n=e.empty,o=r.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===o&&"plain"===r[0])return n?{display:"inline-block"}:void 0;if(1===o&&!n)return a[r[0]];var s=n?{display:"inline-block"}:{},i=r.map((function(e){return a[e]}));return Object.assign.apply(Object,[s].concat(i))}})),l(this,"getTokenProps",(function(e){var r=e.key,n=e.className,o=e.style,a=e.token,s=p({},f(e,["key","className","style","token"]),{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==o&&(s.style=void 0!==s.style?p({},s.style,o):o),void 0!==r&&(s.key=r),n&&(s.className+=" "+n),s})),l(this,"tokenize",(function(e,t,r,n){var o={code:t,grammar:r,language:n,tokens:[]};e.hooks.run("before-tokenize",o);var a=o.tokens=e.tokenize(o.code,o.grammar,o.language);return e.hooks.run("after-tokenize",o),a}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,r=e.language,n=e.code,o=e.children,a=this.getThemeDict(this.props),s=t.languages[r];return o({tokens:function(e){for(var t=[[]],r=[e],n=[0],o=[e.length],a=0,s=0,i=[],c=[i];s>-1;){for(;(a=n[s]++)<o[s];){var l=void 0,p=t[s],b=r[s][a];if("string"==typeof b?(p=s>0?p:["plain"],l=b):(p=d(p,b.type),b.alias&&(p=d(p,b.alias)),l=b.content),"string"==typeof l){var f=l.split(u),h=f.length;i.push({types:p,content:f[0]});for(var y=1;y<h;y++)m(i),c.push(i=[]),i.push({types:p,content:f[y]})}else s++,t.push(p),r.push(l),n.push(0),o.push(l.length)}s--,t.pop(),r.pop(),n.pop(),o.pop()}return m(i),c}(void 0!==s?this.tokenize(t,n,s,r):[n]),className:"prism-code language-"+r,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(o.Component);var y=r(749),g=r.n(y),v={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},O=r(753),j=r(748);var k=()=>{const{prism:e}=Object(j.useThemeConfig)(),{isDarkTheme:t}=Object(O.a)(),r=e.theme||v,n=e.darkTheme||r;return t?n:r},_=r(752),T=r(58),N=r.n(T);const w=/{([\d,-]+)}/,P=(e=["js","jsBlock","jsx","python","html"])=>{const t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},r=["highlight-next-line","highlight-start","highlight-end"].join("|"),n=e.map((e=>`(?:${t[e].start}\\s*(${r})\\s*${t[e].end})`)).join("|");return new RegExp(`^\\s*(?:${n})\\s*$`)},x=/(?:title=")(.*)(?:")/;function E({children:e,className:t,metastring:r}){const{prism:i}=Object(j.useThemeConfig)(),[l,p]=Object(o.useState)(!1),[u,m]=Object(o.useState)(!1);Object(o.useEffect)((()=>{m(!0)}),[]);const d=Object(o.useRef)(null);let b=[],f="";const y=k(),v=Array.isArray(e)?e.join(""):e;if(r&&w.test(r)){const e=r.match(w)[1];b=g()(e).filter((e=>e>0))}r&&x.test(r)&&(f=r.match(x)[1]);let O=t&&t.replace(/language-/,"");!O&&i.defaultLanguage&&(O=i.defaultLanguage);let T=v.replace(/\n$/,"");if(0===b.length&&void 0!==O){let e="";const t=(e=>{switch(e){case"js":case"javascript":case"ts":case"typescript":return P(["js","jsBlock"]);case"jsx":case"tsx":return P(["js","jsBlock","jsx"]);case"html":return P(["js","jsBlock","html"]);case"python":case"py":return P(["python"]);default:return P()}})(O),r=v.replace(/\n$/,"").split("\n");let n;for(let o=0;o<r.length;){const a=o+1,s=r[o].match(t);if(null!==s){switch(s.slice(1).reduce(((e,t)=>e||t),void 0)){case"highlight-next-line":e+=`${a},`;break;case"highlight-start":n=a;break;case"highlight-end":e+=`${n}-${a-1},`}r.splice(o,1)}else o+=1}b=g()(e),T=r.join("\n")}const E=()=>{!function(e,{target:t=document.body}={}){const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const o=document.getSelection();let a=!1;o.rangeCount>0&&(a=o.getRangeAt(0)),t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch{}r.remove(),a&&(o.removeAllRanges(),o.addRange(a)),n&&n.focus()}(T),p(!0),setTimeout((()=>p(!1)),2e3)};return a.a.createElement(h,Object(n.a)({},c,{key:String(u),theme:y,code:T,language:O}),(({className:e,style:t,tokens:r,getLineProps:o,getTokenProps:i})=>a.a.createElement("div",{className:N.a.codeBlockContainer},f&&a.a.createElement("div",{style:t,className:N.a.codeBlockTitle},f),a.a.createElement("div",{className:Object(s.a)(N.a.codeBlockContent,O)},a.a.createElement("div",{tabIndex:0,className:Object(s.a)(e,N.a.codeBlock,"thin-scrollbar",{[N.a.codeBlockWithTitle]:f})},a.a.createElement("div",{className:N.a.codeBlockLines,style:t},r.map(((e,t)=>{1===e.length&&""===e[0].content&&(e[0].content="\n");const r=o({line:e,key:t});return b.includes(t+1)&&(r.className=`${r.className} docusaurus-highlight-code-line`),a.a.createElement("div",Object(n.a)({key:t},r),e.map(((e,t)=>a.a.createElement("span",Object(n.a)({key:t},i({token:e,key:t}))))))})))),a.a.createElement("button",{ref:d,type:"button","aria-label":Object(_.b)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:Object(s.a)(N.a.copyButton),onClick:E},l?a.a.createElement(_.a,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.a.createElement(_.a,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))))}}}]);