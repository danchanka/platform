(window.webpackJsonp=window.webpackJsonp||[]).push([[534,441],{57:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return i})),o.d(t,"metadata",(function(){return p})),o.d(t,"toc",(function(){return u})),o.d(t,"CodeSample",(function(){return d})),o.d(t,"default",(function(){return y}));var r=o(3),n=o(7),a=o(0),s=o.n(a),l=o(749),c=o(752),i={},p={unversionedId:"CodeSample",id:"version-v4/CodeSample",isDocsHomePage:!1,title:"CodeSample",description:"const [content, setContent] = useState('')",source:"@site/versioned_docs/version-v4/CodeSample.mdx",slug:"/CodeSample",permalink:"/platform/CodeSample",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/CodeSample.mdx",version:"v4"},u=[],d=function(e){var t=e.url,o=e.lines,r=Object(a.useState)(""),n=r[0],i=r[1];return Object(a.useEffect)((function(){fetch(t).then((function(e){return e.text()})).then((function(e){return i(e)}))}),[t,i]),n?o?Object(l.b)(s.a.Fragment,null,Object(l.b)(c.a,{className:"lsf",metastring:o,mdxType:"CodeBlock"},n),Object(l.b)("br",null)):Object(l.b)(s.a.Fragment,null,Object(l.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},n),Object(l.b)("br",null)):Object(l.b)(c.a,{className:"lsf",mdxType:"CodeBlock"},"loading...")},m={toc:u,CodeSample:d};function y(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},m,o,{components:t,mdxType:"MDXLayout"}))}y.isMDXComponent=!0},607:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return l})),o.d(t,"metadata",(function(){return c})),o.d(t,"toc",(function(){return i})),o.d(t,"default",(function(){return u}));var r=o(3),n=o(7),a=(o(0),o(749)),s=o(57),l={title:"How-to: Overriding values"},c={unversionedId:"How-to_Overriding_values",id:"version-v4/How-to_Overriding_values",isDocsHomePage:!1,title:"How-to: Overriding values",description:"Often there are tasks when it is necessary to give the user opportunity to enter the value of some attribute for some general object and then override it for some specific object.",source:"@site/versioned_docs/version-v4/How-to_Overriding_values.md",slug:"/How-to_Overriding_values",permalink:"/platform/How-to_Overriding_values",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/How-to_Overriding_values.md",version:"v4",sidebar:"version-v4/learn",previous:{title:"How-to: Using objects as templates",permalink:"/platform/How-to_Using_objects_as_templates"},next:{title:"How-to: Binding properties",permalink:"/platform/How-to_Binding_properties"}},i=[],p={toc:i};function u(e){var t=e.components,l=Object(n.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,l,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Often there are tasks when it is necessary to give the user opportunity to enter the value of some attribute for some general object and then override it for some specific object."),Object(a.b)("p",null,"Let's take a look when you need to define a trade mark-up for a book. At the same time, we have the logic of categories defined. These categories form a tree by specifying a parent for each category. The user should be able to set a mark-up for any product and category at any level."),Object(a.b)("p",null,"Let's define the logic of categories and the ",Object(a.b)("a",{parentName:"p",href:"/platform/Data_properties_DATA_"},"data property")," of this category's markup."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block1",mdxType:"CodeSample"}),Object(a.b)("p",null,"The ",Object(a.b)("a",{parentName:"p",href:"/platform/RECURSION_operator"},"RECURSION")," operator is used to calculate the ",Object(a.b)("em",{parentName:"p"},"level")," property for given two categories. This property will be equal to two to the power of N, where N is the distance between these categories."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block2",mdxType:"CodeSample"}),Object(a.b)("p",null,"Let's create a property that will determine the corresponding parent by category and level."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block3",mdxType:"CodeSample"}),Object(a.b)("p",null,'Let\'s find the minimal level of a category for which the a mark-up is defined. It will also be the level of "closest upper" category with a set mark-up.'),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block4",mdxType:"CodeSample"}),Object(a.b)("p",null,"We use this level to determine the category and its mark-up."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block5",mdxType:"CodeSample"}),Object(a.b)("p",null,"Thus, the ",Object(a.b)("strong",{parentName:"p"},"overMarkup")," property will contain the required markup value for this category with its hierarchy taken into account."),Object(a.b)("p",null,"Let's now define the logic for books. Each of them is associated with a certain category that may be located at any level of the category hierarchy."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block6",mdxType:"CodeSample"}),Object(a.b)("p",null,"Let's define the data property of a product markup. After that, let's construct an overridden property that will return a product markup if it's not ",Object(a.b)("strong",{parentName:"p"},"NULL")," and a previously created property with a category markup."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block7",mdxType:"CodeSample"}),Object(a.b)("p",null,"Finally, let's design a form that will allow the user to enter the markup for categories and products at the same time. Let's output both the data and the overridden markup for the category and the product. Note that changes in overridden properties on the form will be displayed immediately, but saved only when the corresponding button is clicked."),Object(a.b)(s.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=UseCaseOverride&block=block7",mdxType:"CodeSample"}),Object(a.b)("p",null,"As a result, the form with the filled data will look like this:"),Object(a.b)("p",null,Object(a.b)("img",{src:o(910).default})))}u.isMDXComponent=!0},749:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return y}));var r=o(0),n=o.n(r);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var i=n.a.createContext({}),p=function(e){var t=n.a.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},u=function(e){var t=p(e.components);return n.a.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},m=n.a.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),u=p(o),m=r,y=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return o?n.a.createElement(y,l(l({ref:t},i),{},{components:o})):n.a.createElement(y,l({ref:t},i))}));function y(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,s=new Array(a);s[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var i=2;i<a;i++)s[i]=o[i];return n.a.createElement.apply(null,s)}return n.a.createElement.apply(null,o)}m.displayName="MDXCreateElement"},751:function(e,t){function o(e){let t,o=[];for(let r of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(r))o.push(parseInt(r,10));else if(t=r.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,r,n,a]=t;if(r&&a){r=parseInt(r),a=parseInt(a);const e=r<a?1:-1;"-"!==n&&".."!==n&&"\u2025"!==n||(a+=e);for(let t=r;t!==a;t+=e)o.push(t)}}return o}t.default=o,e.exports=o},752:function(e,t,o){"use strict";o.d(t,"a",(function(){return E}));var r=o(3),n=o(0),a=o.n(n),s=o(753),l={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},c={Prism:o(23).a,theme:l};function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}var u=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},m=function(e,t){var o=e.length;return o>0&&e[o-1]===t?e:e.concat(t)},y=function(e,t){var o=e.plain,r=Object.create(null),n=e.styles.reduce((function(e,o){var r=o.languages,n=o.style;return r&&!r.includes(t)||o.types.forEach((function(t){var o=p({},e[t],n);e[t]=o})),e}),r);return n.root=o,n.plain=p({},o,{backgroundColor:null}),n};function f(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(o[r]=e[r]);return o}var b=function(e){function t(){for(var t=this,o=[],r=arguments.length;r--;)o[r]=arguments[r];e.apply(this,o),i(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var o=e.theme?y(e.theme,e.language):void 0;return t.themeDict=o})),i(this,"getLineProps",(function(e){var o=e.key,r=e.className,n=e.style,a=p({},f(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),s=t.getThemeDict(t.props);return void 0!==s&&(a.style=s.plain),void 0!==n&&(a.style=void 0!==a.style?p({},a.style,n):n),void 0!==o&&(a.key=o),r&&(a.className+=" "+r),a})),i(this,"getStyleForToken",(function(e){var o=e.types,r=e.empty,n=o.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===n&&"plain"===o[0])return r?{display:"inline-block"}:void 0;if(1===n&&!r)return a[o[0]];var s=r?{display:"inline-block"}:{},l=o.map((function(e){return a[e]}));return Object.assign.apply(Object,[s].concat(l))}})),i(this,"getTokenProps",(function(e){var o=e.key,r=e.className,n=e.style,a=e.token,s=p({},f(e,["key","className","style","token"]),{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==n&&(s.style=void 0!==s.style?p({},s.style,n):n),void 0!==o&&(s.key=o),r&&(s.className+=" "+r),s})),i(this,"tokenize",(function(e,t,o,r){var n={code:t,grammar:o,language:r,tokens:[]};e.hooks.run("before-tokenize",n);var a=n.tokens=e.tokenize(n.code,n.grammar,n.language);return e.hooks.run("after-tokenize",n),a}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,o=e.language,r=e.code,n=e.children,a=this.getThemeDict(this.props),s=t.languages[o];return n({tokens:function(e){for(var t=[[]],o=[e],r=[0],n=[e.length],a=0,s=0,l=[],c=[l];s>-1;){for(;(a=r[s]++)<n[s];){var i=void 0,p=t[s],y=o[s][a];if("string"==typeof y?(p=s>0?p:["plain"],i=y):(p=m(p,y.type),y.alias&&(p=m(p,y.alias)),i=y.content),"string"==typeof i){var f=i.split(u),b=f.length;l.push({types:p,content:f[0]});for(var h=1;h<b;h++)d(l),c.push(l=[]),l.push({types:p,content:f[h]})}else s++,t.push(p),o.push(i),r.push(0),n.push(i.length)}s--,t.pop(),o.pop(),r.pop(),n.pop()}return d(l),c}(void 0!==s?this.tokenize(t,r,s,o):[r]),className:"prism-code language-"+o,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(n.Component);var h=o(751),g=o.n(h),v={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},k=o(755),O=o(750);var j=()=>{const{prism:e}=Object(O.useThemeConfig)(),{isDarkTheme:t}=Object(k.a)(),o=e.theme||v,r=e.darkTheme||o;return t?r:o},w=o(754),C=o(58),T=o.n(C);const S=/{([\d,-]+)}/,x=(e=["js","jsBlock","jsx","python","html"])=>{const t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},o=["highlight-next-line","highlight-start","highlight-end"].join("|"),r=e.map((e=>`(?:${t[e].start}\\s*(${o})\\s*${t[e].end})`)).join("|");return new RegExp(`^\\s*(?:${r})\\s*$`)},N=/(?:title=")(.*)(?:")/;function E({children:e,className:t,metastring:o}){const{prism:l}=Object(O.useThemeConfig)(),[i,p]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1);Object(n.useEffect)((()=>{d(!0)}),[]);const m=Object(n.useRef)(null);let y=[],f="";const h=j(),v=Array.isArray(e)?e.join(""):e;if(o&&S.test(o)){const e=o.match(S)[1];y=g()(e).filter((e=>e>0))}o&&N.test(o)&&(f=o.match(N)[1]);let k=t&&t.replace(/language-/,"");!k&&l.defaultLanguage&&(k=l.defaultLanguage);let C=v.replace(/\n$/,"");if(0===y.length&&void 0!==k){let e="";const t=(e=>{switch(e){case"js":case"javascript":case"ts":case"typescript":return x(["js","jsBlock"]);case"jsx":case"tsx":return x(["js","jsBlock","jsx"]);case"html":return x(["js","jsBlock","html"]);case"python":case"py":return x(["python"]);default:return x()}})(k),o=v.replace(/\n$/,"").split("\n");let r;for(let n=0;n<o.length;){const a=n+1,s=o[n].match(t);if(null!==s){switch(s.slice(1).reduce(((e,t)=>e||t),void 0)){case"highlight-next-line":e+=`${a},`;break;case"highlight-start":r=a;break;case"highlight-end":e+=`${r}-${a-1},`}o.splice(n,1)}else n+=1}y=g()(e),C=o.join("\n")}const E=()=>{!function(e,{target:t=document.body}={}){const o=document.createElement("textarea"),r=document.activeElement;o.value=e,o.setAttribute("readonly",""),o.style.contain="strict",o.style.position="absolute",o.style.left="-9999px",o.style.fontSize="12pt";const n=document.getSelection();let a=!1;n.rangeCount>0&&(a=n.getRangeAt(0)),t.append(o),o.select(),o.selectionStart=0,o.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch{}o.remove(),a&&(n.removeAllRanges(),n.addRange(a)),r&&r.focus()}(C),p(!0),setTimeout((()=>p(!1)),2e3)};return a.a.createElement(b,Object(r.a)({},c,{key:String(u),theme:h,code:C,language:k}),(({className:e,style:t,tokens:o,getLineProps:n,getTokenProps:l})=>a.a.createElement("div",{className:T.a.codeBlockContainer},f&&a.a.createElement("div",{style:t,className:T.a.codeBlockTitle},f),a.a.createElement("div",{className:Object(s.a)(T.a.codeBlockContent,k)},a.a.createElement("div",{tabIndex:0,className:Object(s.a)(e,T.a.codeBlock,"thin-scrollbar",{[T.a.codeBlockWithTitle]:f})},a.a.createElement("div",{className:T.a.codeBlockLines,style:t},o.map(((e,t)=>{1===e.length&&""===e[0].content&&(e[0].content="\n");const o=n({line:e,key:t});return y.includes(t+1)&&(o.className=`${o.className} docusaurus-highlight-code-line`),a.a.createElement("div",Object(r.a)({key:t},o),e.map(((e,t)=>a.a.createElement("span",Object(r.a)({key:t},l({token:e,key:t}))))))})))),a.a.createElement("button",{ref:m,type:"button","aria-label":Object(w.b)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:Object(s.a)(T.a.copyButton),onClick:E},i?a.a.createElement(w.a,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.a.createElement(w.a,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))))}},910:function(e,t,o){"use strict";o.r(t),t.default=o.p+"assets/images/46367612-46992522ae9783dad1fc2e055f1ce3ea.png"}}]);