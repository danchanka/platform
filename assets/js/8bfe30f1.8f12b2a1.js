(window.webpackJsonp=window.webpackJsonp||[]).push([[375],{446:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return c}));var r=a(3),n=a(7),o=(a(0),a(746)),l={title:"How-to: Physical model"},i={unversionedId:"How-to_Physical_model",id:"version-v4/How-to_Physical_model",isDocsHomePage:!1,title:"How-to: Physical model",description:"By default, each class in the database creates a separate table that stores all those properties whose only parameter is an object of this class. The key in this table is a field that stores a unique object ID. For properties with several parameters, a table will be created with the IDs of parameter objects as keys.",source:"@site/versioned_docs/version-v4/How-to_Physical_model.md",slug:"/How-to_Physical_model",permalink:"/platform/How-to_Physical_model",editUrl:"https://github.com/danchanka/platform/edit/v4/docs/en/How-to_Physical_model.md",version:"v4",lastUpdatedAt:1617715936,formattedLastUpdatedAt:"4/6/2021",sidebar:"version-v4/learn",previous:{title:"How-to: Metaprogramming",permalink:"/platform/How-to_Metaprogramming"},next:{title:"How-to: Internationalization",permalink:"/platform/How-to_Internationalization"}},s=[],p={toc:s};function c(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"By default, each class in the database creates a separate table that stores all those ",Object(o.b)("a",{parentName:"p",href:"/platform/Properties"},"properties")," whose only parameter is an object of this class. The key in this table is a field that stores a unique object ID. For properties with several parameters, a table will be created with the IDs of parameter objects as keys."),Object(o.b)("p",null,"To explicitly specify a table in which all properties with one parameter of this class will be stored, we can use the following construct:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-lsf"},"CLASS Animal 'Animal';\nTABLE animal(Animal);\n\nname 'Name' = DATA STRING[50] (Animal);\n")),Object(o.b)("p",null,"With a standard ",Object(o.b)("a",{parentName:"p",href:"/platform/Tables#name"},"field naming policy"),", a <",Object(o.b)("a",{parentName:"p",href:"/platform/Naming"},"Namespace"),">",Object(o.b)("strong",{parentName:"p"},"_","animal")," table will be created within the database, with a key ",Object(o.b)("strong",{parentName:"p"},"key0")," with the internal ID of an animal and a\xa0<",Object(o.b)("a",{parentName:"p",href:"/platform/Naming"},"Namespace"),">",Object(o.b)("strong",{parentName:"p"},"_","name","_","Animal")," field storing its name."),Object(o.b)("p",null,"For properties with multiple parameters, we can create a table as follows:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-lsf"},"CLASS Country 'Country';\n\nTABLE animalCountry (Animal, Country);\npopulation 'Number' = DATA INTEGER (Animal, Country);\n")),Object(o.b)("p",null,"In this case we create a <Namespace",">",Object(o.b)("strong",{parentName:"p"},"_","animalCountry")," table with two keys: ",Object(o.b)("strong",{parentName:"p"},"key0")," for the animal and ",Object(o.b)("strong",{parentName:"p"},"key1")," for the country. It will also have a <Namespace",">",Object(o.b)("strong",{parentName:"p"},"_","population","_","Animal","_","Country")," field."),Object(o.b)("p",null,"All other properties with signature (",Object(o.b)("strong",{parentName:"p"},"Animal"),", ",Object(o.b)("strong",{parentName:"p"},"Country"),") will also be placed in this table. If some property needs to be placed in a separate table, then the following technique can be used:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-lsf"},"TABLE ageAnimalCountry (Animal, Country);\naverageAge 'Average age' = DATA NUMERIC[8,2] (Animal, Country) TABLE ageAnimalCountry;\n")),Object(o.b)("p",null,"This table will only store properties for which it is explicitly specified. All others will go into the first table declared with the necessary signature."),Object(o.b)("p",null,"Computed properties that need to be stored ",Object(o.b)("a",{parentName:"p",href:"/platform/Materializations"},"permanently")," in the table need to be marked with the keyword ",Object(o.b)("strong",{parentName:"p"},"MATERIALIZED")," :"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-lsf"},"totalPopulation 'Total number' (Animal a) = GROUP SUM population(a, Country c) MATERIALIZED;\n")),Object(o.b)("p",null,"The table in which this field will be stored will be selected according to the same algorithm as for ",Object(o.b)("a",{parentName:"p",href:"/platform/Data_properties_DATA_"},"data properties"),". In this case, it will go into the table <Namespace",">",Object(o.b)("strong",{parentName:"p"},"_","animal"),"."))}c.isMDXComponent=!0},746:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return f}));var r=a(0),n=a.n(r);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=n.a.createContext({}),c=function(e){var t=n.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},b=function(e){var t=c(e.components);return n.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),b=c(a),u=r,f=b["".concat(l,".").concat(u)]||b[u]||m[u]||o;return a?n.a.createElement(f,i(i({ref:t},p),{},{components:a})):n.a.createElement(f,i({ref:t},p))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);