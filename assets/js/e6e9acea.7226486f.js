(window.webpackJsonp=window.webpackJsonp||[]).push([[607,441],{57:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return p})),r.d(t,"toc",(function(){return u})),r.d(t,"CodeSample",(function(){return m})),r.d(t,"default",(function(){return f}));var n=r(3),o=r(7),a=r(0),c=r.n(a),s=r(749),i=r(752),l={},p={unversionedId:"CodeSample",id:"version-v4/CodeSample",isDocsHomePage:!1,title:"CodeSample",description:"const [content, setContent] = useState('')",source:"@site/versioned_docs/version-v4/CodeSample.mdx",slug:"/CodeSample",permalink:"/platform/CodeSample",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/CodeSample.mdx",version:"v4"},u=[],m=function(e){var t=e.url,r=e.lines,n=Object(a.useState)(""),o=n[0],l=n[1];return Object(a.useEffect)((function(){fetch(t).then((function(e){return e.text()})).then((function(e){return l(e)}))}),[t,l]),o?r?Object(s.b)(c.a.Fragment,null,Object(s.b)(i.a,{className:"lsf",metastring:r,mdxType:"CodeBlock"},o),Object(s.b)("br",null)):Object(s.b)(c.a.Fragment,null,Object(s.b)(i.a,{className:"lsf",mdxType:"CodeBlock"},o),Object(s.b)("br",null)):Object(s.b)(i.a,{className:"lsf",mdxType:"CodeBlock"},"loading...")},d={toc:u,CodeSample:m};function f(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},d,r,{components:t,mdxType:"MDXLayout"}))}f.isMDXComponent=!0},679:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return i})),r.d(t,"toc",(function(){return l})),r.d(t,"default",(function(){return u}));var n=r(3),o=r(7),a=(r(0),r(749)),c=r(57),s={title:"Data import (IMPORT)"},i={unversionedId:"Data_import_IMPORT_",id:"version-v4/Data_import_IMPORT_",isDocsHomePage:!1,title:"Data import (IMPORT)",description:"The data import\xa0operator creates an action which\xa0reads a file from the value of some property, then, depending on its format, defines the columns (fields) of data in this file, after which it writes the value of each column (field) to the corresponding property (parameter) - import assignment.\xa0The mapping of columns to properties can go in either column or name order.",source:"@site/versioned_docs/version-v4/Data_import_IMPORT_.md",slug:"/Data_import_IMPORT_",permalink:"/platform/Data_import_IMPORT_",editUrl:"https://github.com/danchanka/platform/edit/master/versioned_docs/version-v4/Data_import_IMPORT_.md",version:"v4",sidebar:"version-v4/learn",previous:{title:"Write file (WRITE)",permalink:"/platform/Write_file_WRITE_"},next:{title:"Data export (EXPORT)",permalink:"/platform/Data_export_EXPORT_"}},l=[{value:"General case",id:"general-case",children:[]},{value:"Language",id:"language",children:[]},{value:"Examples",id:"examples",children:[]}],p={toc:l};function u(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"The ",Object(a.b)("em",{parentName:"p"},"data import\xa0"),"operator creates an ",Object(a.b)("a",{parentName:"p",href:"/platform/Actions"},"action")," which\xa0reads a file from the value of some ",Object(a.b)("a",{parentName:"p",href:"/platform/Properties"},"property"),", then, depending on its ",Object(a.b)("a",{parentName:"p",href:"/platform/Structured_view"},"format"),", defines the columns (fields) of data in this file, after which it ",Object(a.b)("a",{parentName:"p",href:"/platform/Property_change_CHANGE_"},"writes")," the value of each column (field) to the corresponding property (parameter) - import ",Object(a.b)("em",{parentName:"p"},"assignment"),".\xa0The mapping of columns to properties can go in either column or name order."),Object(a.b)("p",null,"Rows, in turn, are mapped during import to objects of specified classes (let's call these objects\xa0",Object(a.b)("em",{parentName:"p"},"imported"),"). In the current platform implementation, there can be at most one object and the specified class must be either ",Object(a.b)("a",{parentName:"p",href:"/platform/Built-in_classes"},"numeric")," or a ",Object(a.b)("a",{parentName:"p",href:"/platform/User_classes#abstract"},"specific user-defined class"),". Rows are mapped to the imported object as follows:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"for numeric classes: all imported\xa0rows are numbered in the order in which they appear in the file (starting from 0)."),Object(a.b)("li",{parentName:"ul"},"for\xa0specific\xa0user-defined classes: ",Object(a.b)("a",{parentName:"li",href:"/platform/New_object_NEW_"},"a new object"),"\xa0of the specified class is created for each row.")),Object(a.b)("p",null,"You can also define an import\xa0",Object(a.b)("em",{parentName:"p"},"condition"),":\xa0this is a property in which the ",Object(a.b)("a",{parentName:"p",href:"/platform/Built-in_classes"},"default value")," of the property value class is written for each row (as opposed to import destination in which column values are written)."),Object(a.b)("h3",{id:"general-case"},"General case"),Object(a.b)("p",null,"It should be noted that data import is a special case of (syntactic sugar for)\xa0",Object(a.b)("a",{parentName:"p",href:"/platform/In_a_structured_view_EXPORT_IMPORT_#importForm"},"form import"),", in which the imported form is created automatically and consists of:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"one\xa0",Object(a.b)("a",{parentName:"li",href:"/platform/Form_structure#objects"},"group of objects"),"\xa0named ",Object(a.b)("strong",{parentName:"li"},"value")," whose objects correspond to imported objects (not created if there are no imported objects)"),Object(a.b)("li",{parentName:"ul"},"imported properties. The\xa0",Object(a.b)("a",{parentName:"li",href:"/platform/Form_structure#propertygroup-broken"},"property group"),"\xa0for the properties that are created on the form is the ",Object(a.b)("a",{parentName:"li",href:"/platform/Groups_of_properties_and_actions#builtin"},"builtin")," group ",Object(a.b)("strong",{parentName:"li"},"System.private"),"."),Object(a.b)("li",{parentName:"ul"},"a filter equal to the defined condition.")),Object(a.b)("p",null,"Accordingly, the behavior of the data import operator (for example, determining the names of the resulting columns / keys, ",Object(a.b)("a",{parentName:"p",href:"/platform/Structured_view#value"},"processing of ",Object(a.b)("strong",{parentName:"a"},"value")),", etc.) is completely determined by the behavior of the form import operator (as if the above form were passed to it as a parameter)."),Object(a.b)("h3",{id:"language"},"Language"),Object(a.b)("p",null,"To declare an action that imports data, use the ",Object(a.b)("a",{parentName:"p",href:"/platform/IMPORT_operator"},Object(a.b)("strong",{parentName:"a"},"IMPORT")," operator"),"."),Object(a.b)("h3",{id:"examples"},"Examples"),Object(a.b)(c.CodeSample,{url:"https://documentation.lsfusion.org/sample?file=ActionSample&block=import",mdxType:"CodeSample"}))}u.isMDXComponent=!0},749:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=p(r),d=n,f=u["".concat(c,".").concat(d)]||u[d]||m[d]||a;return r?o.a.createElement(f,s(s({ref:t},l),{},{components:r})):o.a.createElement(f,s({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,c=new Array(a);c[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,c[1]=s;for(var l=2;l<a;l++)c[l]=r[l];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},751:function(e,t){function r(e){let t,r=[];for(let n of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(n))r.push(parseInt(n,10));else if(t=n.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,n,o,a]=t;if(n&&a){n=parseInt(n),a=parseInt(a);const e=n<a?1:-1;"-"!==o&&".."!==o&&"\u2025"!==o||(a+=e);for(let t=n;t!==a;t+=e)r.push(t)}}return r}t.default=r,e.exports=r},752:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r(3),o=r(0),a=r.n(o),c=r(753),s={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},i={Prism:r(23).a,theme:s};function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=/\r\n|\r|\n/,m=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},d=function(e,t){var r=e.length;return r>0&&e[r-1]===t?e:e.concat(t)},f=function(e,t){var r=e.plain,n=Object.create(null),o=e.styles.reduce((function(e,r){var n=r.languages,o=r.style;return n&&!n.includes(t)||r.types.forEach((function(t){var r=p({},e[t],o);e[t]=r})),e}),n);return o.root=r,o.plain=p({},r,{backgroundColor:null}),o};function b(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}var h=function(e){function t(){for(var t=this,r=[],n=arguments.length;n--;)r[n]=arguments[n];e.apply(this,r),l(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var r=e.theme?f(e.theme,e.language):void 0;return t.themeDict=r})),l(this,"getLineProps",(function(e){var r=e.key,n=e.className,o=e.style,a=p({},b(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),c=t.getThemeDict(t.props);return void 0!==c&&(a.style=c.plain),void 0!==o&&(a.style=void 0!==a.style?p({},a.style,o):o),void 0!==r&&(a.key=r),n&&(a.className+=" "+n),a})),l(this,"getStyleForToken",(function(e){var r=e.types,n=e.empty,o=r.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===o&&"plain"===r[0])return n?{display:"inline-block"}:void 0;if(1===o&&!n)return a[r[0]];var c=n?{display:"inline-block"}:{},s=r.map((function(e){return a[e]}));return Object.assign.apply(Object,[c].concat(s))}})),l(this,"getTokenProps",(function(e){var r=e.key,n=e.className,o=e.style,a=e.token,c=p({},b(e,["key","className","style","token"]),{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==o&&(c.style=void 0!==c.style?p({},c.style,o):o),void 0!==r&&(c.key=r),n&&(c.className+=" "+n),c})),l(this,"tokenize",(function(e,t,r,n){var o={code:t,grammar:r,language:n,tokens:[]};e.hooks.run("before-tokenize",o);var a=o.tokens=e.tokenize(o.code,o.grammar,o.language);return e.hooks.run("after-tokenize",o),a}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,r=e.language,n=e.code,o=e.children,a=this.getThemeDict(this.props),c=t.languages[r];return o({tokens:function(e){for(var t=[[]],r=[e],n=[0],o=[e.length],a=0,c=0,s=[],i=[s];c>-1;){for(;(a=n[c]++)<o[c];){var l=void 0,p=t[c],f=r[c][a];if("string"==typeof f?(p=c>0?p:["plain"],l=f):(p=d(p,f.type),f.alias&&(p=d(p,f.alias)),l=f.content),"string"==typeof l){var b=l.split(u),h=b.length;s.push({types:p,content:b[0]});for(var y=1;y<h;y++)m(s),i.push(s=[]),s.push({types:p,content:b[y]})}else c++,t.push(p),r.push(l),n.push(0),o.push(l.length)}c--,t.pop(),r.pop(),n.pop(),o.pop()}return m(s),i}(void 0!==c?this.tokenize(t,n,c,r):[n]),className:"prism-code language-"+r,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(o.Component);var y=r(751),g=r.n(y),v={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},j=r(755),O=r(750);var k=()=>{const{prism:e}=Object(O.useThemeConfig)(),{isDarkTheme:t}=Object(j.a)(),r=e.theme||v,n=e.darkTheme||r;return t?n:r},T=r(754),_=r(58),N=r.n(_);const w=/{([\d,-]+)}/,x=(e=["js","jsBlock","jsx","python","html"])=>{const t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},r=["highlight-next-line","highlight-start","highlight-end"].join("|"),n=e.map((e=>`(?:${t[e].start}\\s*(${r})\\s*${t[e].end})`)).join("|");return new RegExp(`^\\s*(?:${n})\\s*$`)},P=/(?:title=")(.*)(?:")/;function C({children:e,className:t,metastring:r}){const{prism:s}=Object(O.useThemeConfig)(),[l,p]=Object(o.useState)(!1),[u,m]=Object(o.useState)(!1);Object(o.useEffect)((()=>{m(!0)}),[]);const d=Object(o.useRef)(null);let f=[],b="";const y=k(),v=Array.isArray(e)?e.join(""):e;if(r&&w.test(r)){const e=r.match(w)[1];f=g()(e).filter((e=>e>0))}r&&P.test(r)&&(b=r.match(P)[1]);let j=t&&t.replace(/language-/,"");!j&&s.defaultLanguage&&(j=s.defaultLanguage);let _=v.replace(/\n$/,"");if(0===f.length&&void 0!==j){let e="";const t=(e=>{switch(e){case"js":case"javascript":case"ts":case"typescript":return x(["js","jsBlock"]);case"jsx":case"tsx":return x(["js","jsBlock","jsx"]);case"html":return x(["js","jsBlock","html"]);case"python":case"py":return x(["python"]);default:return x()}})(j),r=v.replace(/\n$/,"").split("\n");let n;for(let o=0;o<r.length;){const a=o+1,c=r[o].match(t);if(null!==c){switch(c.slice(1).reduce(((e,t)=>e||t),void 0)){case"highlight-next-line":e+=`${a},`;break;case"highlight-start":n=a;break;case"highlight-end":e+=`${n}-${a-1},`}r.splice(o,1)}else o+=1}f=g()(e),_=r.join("\n")}const C=()=>{!function(e,{target:t=document.body}={}){const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const o=document.getSelection();let a=!1;o.rangeCount>0&&(a=o.getRangeAt(0)),t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let c=!1;try{c=document.execCommand("copy")}catch{}r.remove(),a&&(o.removeAllRanges(),o.addRange(a)),n&&n.focus()}(_),p(!0),setTimeout((()=>p(!1)),2e3)};return a.a.createElement(h,Object(n.a)({},i,{key:String(u),theme:y,code:_,language:j}),(({className:e,style:t,tokens:r,getLineProps:o,getTokenProps:s})=>a.a.createElement("div",{className:N.a.codeBlockContainer},b&&a.a.createElement("div",{style:t,className:N.a.codeBlockTitle},b),a.a.createElement("div",{className:Object(c.a)(N.a.codeBlockContent,j)},a.a.createElement("div",{tabIndex:0,className:Object(c.a)(e,N.a.codeBlock,"thin-scrollbar",{[N.a.codeBlockWithTitle]:b})},a.a.createElement("div",{className:N.a.codeBlockLines,style:t},r.map(((e,t)=>{1===e.length&&""===e[0].content&&(e[0].content="\n");const r=o({line:e,key:t});return f.includes(t+1)&&(r.className=`${r.className} docusaurus-highlight-code-line`),a.a.createElement("div",Object(n.a)({key:t},r),e.map(((e,t)=>a.a.createElement("span",Object(n.a)({key:t},s({token:e,key:t}))))))})))),a.a.createElement("button",{ref:d,type:"button","aria-label":Object(T.b)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:Object(c.a)(N.a.copyButton),onClick:C},l?a.a.createElement(T.a,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.a.createElement(T.a,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))))}}}]);